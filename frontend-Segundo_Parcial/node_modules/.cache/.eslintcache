[{"/home/walter/Documentos/Desarrollo WEB/CRUD React/frontend-segundo-parcial/src/index.js":"1","/home/walter/Documentos/Desarrollo WEB/CRUD React/frontend-segundo-parcial/src/App.js":"2","/home/walter/Documentos/Desarrollo WEB/CRUD React/frontend-segundo-parcial/src/reportWebVitals.js":"3"},{"size":500,"mtime":1632279789290,"results":"4","hashOfConfig":"5"},{"size":7085,"mtime":1632294406041,"results":"6","hashOfConfig":"5"},{"size":362,"mtime":1632279789290,"results":"7","hashOfConfig":"5"},{"filePath":"8","messages":"9","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"10"},"1knjeec",{"filePath":"11","messages":"12","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"13"},{"filePath":"14","messages":"15","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"10"},"/home/walter/Documentos/Desarrollo WEB/CRUD React/frontend-segundo-parcial/src/index.js",[],["16","17"],"/home/walter/Documentos/Desarrollo WEB/CRUD React/frontend-segundo-parcial/src/App.js",["18"],"import \"bootstrap/dist/css/bootstrap.min.css\";\nimport axios from \"axios\";\nimport {Modal, ModalBody, ModalFooter, ModalHeader } from 'reactstrap';\nimport { Component } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faEdit, faTrashAlt } from \"@fortawesome/free-solid-svg-icons\";\n\n\nconst url = \"http://localhost:8080/producto/listaProductos\";\nconst urlPost = \"http://localhost:8080/producto/crearProducto\";\nconst urlPut = \"http://localhost:8080/producto/actualizarProducto\";\nconst urlDelete = \"http://localhost:8080/producto/borrarProducto\";\n\nclass App extends Component{\n  state={\n    data:[],\n    modalInsertar: false,\n    modalEliminar: false,\n    form:{\n      producto:'',\n      id_marca:0,\n      descripcion:'',\n      precio_costo:0,\n      precio_venta:0,\n      existencia:0,\n      \n    },\n    tipoModal: '',\n  }\n\n  modalEliminar=()=>{\n    this.setState({modalEliminar:!this.state.modalEliminar});\n  }\n\n  modalInsertar=()=>{\n    this.setState({modalInsertar:!this.state.modalInsertar});\n  }\n\n  seleccionarProducto=(producto)=>{\n    this.setState({\n      tipoModal:'actualizar',\n      form:{\n        id_producto: producto.id_producto,\n        producto: producto.producto,\n        id_marca: producto.id_marca,\n        descripcion: producto.descripcion,\n        precio_costo: producto.precio_costo,\n        precio_venta: producto.precio_venta,\n        existencia: producto.existencia\n      }\n\n    })\n  }\n\n  peticionesGet=()=>{\n    axios.get(url).then(response=>{\n      this.setState({data: response.data});\n    })\n  }\n\n  handleChange=async (e)=>{\n    e.persist();\n    await this.setState({\n      form:{\n        ...this.state.form,\n        [e.target.name]: e.target.value\n      }\n    });\n  }\n\n  peticionPost=async ()=>{\n    delete this.state.form.id_producto;\n    await axios.post(urlPost,this.state.form).then(response=>{\n      this.modalInsertar();\n      this.peticionesGet();\n    }).catch((error)=>{\n      console.log(error);\n    });\n  }\n\n  peticionPut=async ()=>{\n    console.log(this.state.form);\n    await axios.put(urlPut+\"/\"+this.state.form.id_producto,this.state.form).then(response=>{\n      this.modalInsertar();\n      this.peticionesGet();\n    }).catch((error)=>{\n      console.log(error);\n    });\n  }\n\n  peticionDelete=async ()=>{\n    await axios.delete(urlDelete+\"/\"+this.state.form.id_producto).then(response=>{\n      this.modalEliminar();\n      this.peticionesGet();\n    }).catch((error)=>{\n      console.log(error);\n    });\n  }\n\n  componentDidMount() {\n    this.peticionesGet();\n  }\n  render(){\n    const {form}=this.state;\n    return (\n      <div className=\"App\">\n        <button type=\"button\" className=\"btn btn-success\" onClick={()=>{this.setState({form:null,tipoModal:'insertar'}); this.modalInsertar()}}>Agregar Producto</button>\n        <table className=\"table\">\n          <thead>\n            <tr>\n              <th>Codigo</th>\n              <th>Producto</th>\n              <th>Marca</th>\n              <th>Descripción</th>\n              <th>Costo</th>\n              <th>Precio</th>\n              <th>Existencia</th>\n              <th></th>\n            </tr>\n          </thead>\n          <tbody>\n          {this.state.data.map(producto=>{\n            return(\n              <tr>\n                <td>{producto.id_producto}</td>\n                <td>{producto.producto}</td>\n                <td>{producto.id_marca}</td>\n                <td>{producto.descripcion}</td>\n                <td>{producto.precio_costo}</td>\n                <td>{producto.precio_venta}</td>\n                <td>{producto.existencia}</td>\n                <td>\n                  <button type=\"button\" className=\"btn btn-primary\" onClick={()=>{this.seleccionarProducto(producto); this.modalInsertar();}} ><FontAwesomeIcon icon={faEdit}/></button>\n                  <button type=\"button\" className=\"btn btn-danger\" onClick={()=>{this.seleccionarProducto(producto);this.modalEliminar();}}><FontAwesomeIcon icon={faTrashAlt}/></button>\n                </td>\n              </tr>\n            )\n          })}\n          </tbody>\n        </table>\n        <Modal isOpen={this.state.modalInsertar}>\n          <ModalHeader style={{display:'block'}}>\n            <span style={{float:'right'}}>x</span>\n          </ModalHeader>\n          <ModalBody>\n            <div className=\"form-group\">\n              <label htmlFor=\"id\">ID</label>\n              <input className=\"form-control\" type=\"text\" name=\"id_producto\" id=\"id_producto\" readOnly value={form?form.id_producto:this.state.data.length+1} />\n\n              <label htmlFor=\"producto\">Producto</label>\n              <input className=\"form-control\" type=\"text\" name=\"producto\" id=\"producto\" onChange={this.handleChange} value={form?form.producto:''} />\n\n              <label htmlFor=\"marca\">Marca</label>\n              <select className=\"form-control\" name=\"id_marca\" id=\"id_marca\" onChange={this.handleChange} value={form?form.id_marca:0}>\n                <option value=\"0\">-- Seleccione --</option>\n                <option value=\"1\">Logitech</option>\n                <option value=\"2\">Samsung</option>\n              </select>\n\n              <label htmlFor=\"descripcion\">Descripción</label>\n              <input className=\"form-control\" type=\"text\" name=\"descripcion\" id=\"descripcion\" onChange={this.handleChange} value={form?form.descripcion:''}/>\n\n              <label htmlFor=\"precio_costo\">Costo</label>\n              <input className=\"form-control\" type=\"number\" step=\"0.01\" name=\"precio_costo\" id=\"precio_costo\" onChange={this.handleChange} value={form?form.precio_costo:0} />\n\n              <label htmlFor=\"precio_venta\">Precio</label>\n              <input className=\"form-control\" type=\"number\" step=\"0.01\" name=\"precio_venta\" id=\"precio_venta\" onChange={this.handleChange} value={form?form.precio_venta:0} />\n\n              <label htmlFor=\"existencia\">Existencia</label>\n              <input className=\"form-control\" type=\"number\" name=\"existencia\" id=\"existencia\" onChange={this.handleChange} value={form?form.existencia:0} />\n            </div>\n          </ModalBody>\n          <ModalFooter>\n            {this.state.tipoModal=='insertar'?\n              <button className=\"btn btn-success\" onClick={()=>this.peticionPost()}>\n                Insertar\n              </button>:<button className=\"btn btn-primary\" onClick={()=>this.peticionPut()}>\n                Actualizar\n              </button>\n            }\n            \n            <button type=\"button\" className=\"btn btn-dark\" onClick={()=>this.modalInsertar()}>Cancelar</button>\n            \n          </ModalFooter>\n        </Modal>\n        <Modal isOpen={this.state.modalEliminar}>\n          <ModalBody>\n            ¿Seguro que desea eliminar el producto {form && form.producto} ? \n          </ModalBody>\n          <ModalFooter>\n            <button type=\"button\" className=\"btn btn-danger\" onClick={()=>{this.peticionDelete()}}>Sí</button>\n            <button type=\"button\" className=\"btn btn-secondary\" onClick={()=>{this.modalEliminar();}} >No</button>\n          </ModalFooter>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","/home/walter/Documentos/Desarrollo WEB/CRUD React/frontend-segundo-parcial/src/reportWebVitals.js",[],{"ruleId":"19","replacedBy":"20"},{"ruleId":"21","replacedBy":"22"},{"ruleId":"23","severity":1,"message":"24","line":174,"column":34,"nodeType":"25","messageId":"26","endLine":174,"endColumn":36},"no-native-reassign",["27"],"no-negated-in-lhs",["28"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","no-global-assign","no-unsafe-negation"]